<div id="<%= dom_id financial_operation %>" class="card shadow-sm h-100">
  <div class="card-header d-flex justify-content-between align-items-center">
    <div>
      <i class="fas fa-file-invoice-dollar text-primary"></i>
      <%= t("activerecord.models.financial_operation.one") %>
      #<%= financial_operation.id %>
    </div>
    <div class="d-flex gap-2">
      <% badge_class =
          case financial_operation.category
          when "income" then "bg-success"
          when "expense" then "bg-danger"
          else "bg-info"
          end %>
      <span class="badge <%= badge_class %>">
        <%= t("activerecord.attributes.financial_operation.categories.#{financial_operation.category}", default: financial_operation.category) %>
      </span>
      <span class="badge bg-secondary">
        <%= t("activerecord.attributes.financial_operation.operation_types.#{financial_operation.operation_type}", default: financial_operation.operation_type) %>
      </span>
    </div>
  </div>

  <div class="card-body">
    <h5 class="card-title mb-3">
      <%= financial_operation.label.presence || t("activerecord.attributes.financial_operation.label") %>
    </h5>

    <div class="row gy-2">
      <div class="col-md-4">
        <div class="text-muted small"><%= t("activerecord.attributes.financial_operation.amount") %></div>
        <div class="fw-semibold"><%= number_to_currency(financial_operation.amount) %></div>
      </div>
      <div class="col-md-4">
        <div class="text-muted small"><%= t("activerecord.attributes.financial_operation.operation_date") %></div>
        <div class="fw-semibold"><%= l(financial_operation.operation_date, format: :long) if financial_operation.operation_date %></div>
      </div>
      <div class="col-md-4">
        <div class="text-muted small"><%= t("activerecord.attributes.financial_operation.property") %></div>
        <div class="fw-semibold"><%= financial_operation.property&.address || "—" %></div>
      </div>
      <div class="col-md-4">
        <div class="text-muted small"><%= t("activerecord.attributes.financial_operation.tenant") %></div>
        <div class="fw-semibold"><%= financial_operation.tenant&.email || "—" %></div>
      </div>
      <div class="col-md-4">
        <div class="text-muted small"><%= t("activerecord.attributes.financial_operation.associate") %></div>
        <div class="fw-semibold"><%= financial_operation.associate&.email || "—" %></div>
      </div>
      <% if financial_operation.description.present? %>
        <div class="col-12">
          <div class="text-muted small"><%= t("activerecord.attributes.financial_operation.description") %></div>
          <div><%= simple_format(financial_operation.description) %></div>
        </div>
      <% end %>
      <% if financial_operation.respond_to?(:reference_number) && financial_operation.reference_number.present? %>
        <div class="col-md-4">
          <div class="text-muted small"><%= t("activerecord.attributes.financial_operation.reference_number") %></div>
          <div class="fw-semibold"><%= financial_operation.reference_number %></div>
        </div>
      <% end %>
    </div>
  </div>
  <div class="card-footer d-flex gap-2">
    <%= link_to t("helpers.links.show"), [financial_operation.company, financial_operation] %>
    <%= link_to t("helpers.links.edit"), edit_company_financial_operation_path(financial_operation.company, financial_operation) %>
    <%= link_to t("helpers.links.destroy"), [financial_operation.company, financial_operation], data: { turbo_method: :delete, turbo_confirm: t("helpers.are_you_sure") }, class: "text-danger" %>
  </div>
</div>